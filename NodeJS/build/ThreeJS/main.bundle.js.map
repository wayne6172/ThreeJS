{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///delegated ./node_modules/three/build/three.module.js from dll-reference vendor_3e8f60c42333e5aa2739","webpack:///external \"vendor_3e8f60c42333e5aa2739\"","webpack:///delegated ./node_modules/three-text2d/lib/index.js from dll-reference vendor_3e8f60c42333e5aa2739","webpack:///delegated ./node_modules/three-orbitcontrols/OrbitControls.js from dll-reference vendor_3e8f60c42333e5aa2739","webpack:///./node_modules/stats-js/build/stats.min.js","webpack:///./js/keyboard.js","webpack:///./js/scene.js","webpack:///./js/threejs.js","webpack:///./js/Car.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","vendor_3e8f60c42333e5aa2739","document","createElement","e","appendChild","dom","children","length","style","display","cssText","addEventListener","preventDefault","performance","Date","now","a","f","Panel","self","memory","REVISION","addPanel","showPanel","begin","end","update","usedJSHeapSize","jsHeapSizeLimit","this","domElement","setMode","Math","round","window","devicePixelRatio","u","h","y","width","height","v","getContext","font","textBaseline","fillStyle","fillRect","fillText","globalAlpha","min","max","drawImage","KeyboardState","onKeyDown","onKeyUp","k","8","9","13","16","17","18","27","32","33","34","35","36","37","38","39","40","45","46","186","187","188","189","190","191","219","220","221","222","status","keyName","keyCode","String","fromCharCode","event","pressed","down","up","updatedPreviously","debug","list","arg","console","log","scene","keyboard","socket","myCar","stats","renderer","camera","clock","Car","pos","arguments","undefined","x","z","angle","_classCallCheck","THREE","speed","body","buildBody","text","SpriteText2D","align","textAlign","center","scale","set","position","add","copy","rotation","circle","gun","dt","applyAxisAngle","remove","allCar","innerWidth","innerHeight","aspect","updateProjectionMatrix","setSize","parent","Stats","top","zIndex","setClearColor","account","lookAt","emit","allCarState","forEach","state","addToScene","animate","getDelta","updateByServer","removeToScene","requestAnimationFrame","render"],"mappings":"aACA,IAAAA,EAAA,GAGA,SAAAC,EAAAC,GAGA,GAAAF,EAAAE,GACA,OAAAF,EAAAE,GAAAC,QAGA,IAAAC,EAAAJ,EAAAE,GAAA,CACAG,EAAAH,EACAI,GAAA,EACAH,QAAA,IAUA,OANAI,EAAAL,GAAAM,KAAAJ,EAAAD,QAAAC,IAAAD,QAAAF,GAGAG,EAAAE,GAAA,EAGAF,EAAAD,QAKAF,EAAAQ,EAAAF,EAGAN,EAAAS,EAAAV,EAGAC,EAAAU,EAAA,SAAAR,EAAAS,EAAAC,GACAZ,EAAAa,EAAAX,EAAAS,IACAG,OAAAC,eAAAb,EAAAS,EAAA,CAA0CK,YAAA,EAAAC,IAAAL,KAK1CZ,EAAAkB,EAAA,SAAAhB,GACA,oBAAAiB,eAAAC,aACAN,OAAAC,eAAAb,EAAAiB,OAAAC,YAAA,CAAwDC,MAAA,WAExDP,OAAAC,eAAAb,EAAA,cAAiDmB,OAAA,KAQjDrB,EAAAsB,EAAA,SAAAD,EAAAE,GAEA,GADA,EAAAA,IAAAF,EAAArB,EAAAqB,IACA,EAAAE,EAAA,OAAAF,EACA,KAAAE,GAAA,iBAAAF,QAAAG,WAAA,OAAAH,EACA,IAAAI,EAAAX,OAAAY,OAAA,MAGA,GAFA1B,EAAAkB,EAAAO,GACAX,OAAAC,eAAAU,EAAA,WAAyCT,YAAA,EAAAK,UACzC,EAAAE,GAAA,iBAAAF,EAAA,QAAAM,KAAAN,EAAArB,EAAAU,EAAAe,EAAAE,EAAA,SAAAA,GAAgH,OAAAN,EAAAM,IAAqBC,KAAA,KAAAD,IACrI,OAAAF,GAIAzB,EAAA6B,EAAA,SAAA1B,GACA,IAAAS,EAAAT,KAAAqB,WACA,WAA2B,OAAArB,EAAA,SAC3B,WAAiC,OAAAA,GAEjC,OADAH,EAAAU,EAAAE,EAAA,IAAAA,GACAA,GAIAZ,EAAAa,EAAA,SAAAiB,EAAAC,GAAsD,OAAAjB,OAAAkB,UAAAC,eAAA1B,KAAAuB,EAAAC,IAGtD/B,EAAAkC,EAAA,GAIAlC,IAAAmC,EAAA,qBClFAhC,EAAAD,QAAAF,EAAA,qBCAAG,EAAAD,QAAAkC,6CCAAjC,EAAAD,QAAAF,EAAA,uBCAAG,EAAAD,QAAAF,EAAA,uBCAmEG,EAAAD,QAAgF,WAAiB,aAAa,IAAAO,EAAA,WAAiB,IAAAoB,EAAA,EAAAxB,EAAAgC,SAAAC,cAAA,OAAwC,SAAAC,KAAc,OAAAlC,EAAAmC,YAAAD,EAAAE,KAAAF,EAA8B,SAAAjB,EAAAiB,GAAc,QAAAjB,EAAA,EAAYA,EAAAjB,EAAAqC,SAAAC,OAAoBrB,IAAAjB,EAAAqC,SAAApB,GAAAsB,MAAAC,QAAAvB,IAAAiB,EAAA,eAAqDV,EAAAU,EAAIlC,EAAAuC,MAAAE,QAAA,uEAAwEzC,EAAA0C,iBAAA,iBAAAR,GAAsDA,EAAAS,iBAAA1B,IAAAO,EAAAxB,EAAAqC,SAAAC,UAA4C,GAAK,IAAAvC,GAAA6C,aAAAC,MAAAC,MAAAC,EAAAhD,EAAAS,EAAA,EAAAwC,EAAAd,EAAA,IAAA9B,EAAA6C,MAAA,sBAAApC,EAAAqB,EAAA,IAAA9B,EAAA6C,MAAA,qBAAmH,GAAAC,KAAAN,aAAAM,KAAAN,YAAAO,OAAA,IAAA9C,EAAA6B,EAAA,IAAA9B,EAAA6C,MAAA,qBAAsF,OAAAhC,EAAA,IAAamC,SAAA,GAAAhB,IAAApC,EAAAqD,SAAAnB,EAAAoB,UAAArC,EAAAsC,MAAA,WAA0DxD,GAAA6C,aAAAC,MAAAC,OAA4BU,IAAA,WAAgBhD,IAAI,IAAA0B,GAAAU,aAAAC,MAAAC,MAAgC,GAAAjC,EAAA4C,OAAAvB,EAAAnC,EAAA,KAAAgD,EAAA,KAAAb,IAAAc,EAAAS,OAAA,IAAAjD,GAAA0B,EAAAa,GAAA,KAAAA,EAAAb,EAAA1B,EAAA,EAAAH,GAAA,CAAsE,IAAAY,EAAA2B,YAAAO,OAAyB9C,EAAAoD,OAAAxC,EAAAyC,eAAA,QAAAzC,EAAA0C,gBAAA,SAA6D,OAAAzB,GAASuB,OAAA,WAAmB1D,EAAA6D,KAAAJ,OAAaK,WAAA7D,EAAA8D,QAAA7C,IAA0B,OAAAb,EAAA6C,MAAA,SAAAzB,EAAAxB,EAAAD,GAA+B,IAAAgD,EAAA,IAAAvC,EAAA,EAAAwC,EAAAe,KAAAC,MAAAnD,EAAAmC,EAAAiB,OAAAC,kBAAA,GAAA7D,EAAA,GAAAQ,EAAAqB,EAAA,GAAArB,EAAAT,EAAA,EAAAS,EAAAgB,EAAA,EAAAhB,EAAAsD,EAAA,EAAAtD,EAAAiB,EAAA,GAAAjB,EAAAV,EAAA,GAAAU,EAAAuD,EAAA,GAAAvD,EAAAwD,EAAArC,SAAAC,cAAA,UAAmJoC,EAAAC,MAAAjE,EAAAgE,EAAAE,OAAArC,EAAAmC,EAAA9B,MAAAE,QAAA,yBAA8D,IAAA+B,EAAAH,EAAAI,WAAA,MAAyB,OAAAD,EAAAE,KAAA,UAAA7D,EAAA,gCAAA2D,EAAAG,aAAA,MAAAH,EAAAI,UAAA7E,EAAAyE,EAAAK,SAAA,IAAAxE,EAAA6B,GAAAsC,EAAAI,UAAA5E,EAAAwE,EAAAM,SAAAtD,EAAApB,EAAAyB,GAAA2C,EAAAK,SAAAV,EAAArC,EAAA3B,EAAAiE,GAAAI,EAAAI,UAAA7E,EAAAyE,EAAAO,YAAA,GAAAP,EAAAK,SAAAV,EAAArC,EAAA3B,EAAAiE,GAAA,CAAyNhC,IAAAiC,EAAAZ,OAAA,SAAAvB,EAAAjB,GAA2B8B,EAAAgB,KAAAiB,IAAAjC,EAAAb,GAAA1B,EAAAuD,KAAAkB,IAAAzE,EAAA0B,GAAAsC,EAAAI,UAAA7E,EAAAyE,EAAAO,YAAA,EAAAP,EAAAK,SAAA,IAAAxE,EAAAyB,GAAA0C,EAAAI,UAAA5E,EAAAwE,EAAAM,SAAA9B,EAAAd,GAAA,IAAAV,EAAA,KAAAwB,EAAAD,GAAA,IAAAC,EAAAxC,GAAA,IAAAJ,EAAAyB,GAAA2C,EAAAU,UAAAb,EAAAF,EAAAtD,EAAAiB,EAAA3B,EAAAU,EAAAuD,EAAAD,EAAArC,EAAA3B,EAAAU,EAAAuD,GAAAI,EAAAK,SAAAV,EAAAhE,EAAAU,EAAAiB,EAAAjB,EAAAuD,GAAAI,EAAAI,UAAA7E,EAAAyE,EAAAO,YAAA,GAAAP,EAAAK,SAAAV,EAAAhE,EAAAU,EAAAiB,EAAAjB,EAAAmC,GAAA,EAAAd,EAAAjB,GAAAmD,OAAmRhE,EAAxzDa,0ECiB/DkE,EAAgB,SAAhBA,IAGAnD,SAASU,iBAAiB,UAAWyC,EAAcC,WAAW,GAC9DpD,SAASU,iBAAiB,QAAWyC,EAAcE,SAAW,IAKlEF,EAAcG,EACV,CACIC,EAAG,YAAcC,EAAG,MAAaC,GAAI,QAAYC,GAAI,QACrDC,GAAI,OAAYC,GAAI,MAAaC,GAAI,MAAYC,GAAI,QACrDC,GAAI,SAAYC,GAAI,WAAaC,GAAI,MAAYC,GAAI,OACrDC,GAAI,OAAYC,GAAI,KAAaC,GAAI,QAAYC,GAAI,OACrDC,GAAI,SAAYC,GAAI,SAAYC,IAAK,IAAWC,IAAK,IACrDC,IAAK,IAAUC,IAAK,IAAYC,IAAK,IAAWC,IAAK,IACrDC,IAAK,IAAUC,IAAK,KAAYC,IAAK,IAAWC,IAAK,KAG7D/B,EAAcgC,OAAS,GAEvBhC,EAAciC,QAAU,SAAWC,GAE/B,OAAqC,MAA5BlC,EAAcG,EAAE+B,GACrBlC,EAAcG,EAAE+B,GAChBC,OAAOC,aAAaF,IAG5BlC,EAAcE,QAAU,SAASmC,GAE7BA,EAAM7E,iBACN,IAAIrB,EAAM6D,EAAciC,QAAQI,EAAMH,SACjClC,EAAcgC,OAAO7F,KACtB6D,EAAcgC,OAAO7F,GAAKmG,SAAU,IAG5CtC,EAAcC,UAAY,SAASoC,GAE/BA,EAAM7E,iBACN,IAAIrB,EAAM6D,EAAciC,QAAQI,EAAMH,SAChClC,EAAcgC,OAAO7F,KACvB6D,EAAcgC,OAAO7F,GAAO,CAAEoG,MAAM,EAAOD,SAAS,EAAOE,IAAI,EAAOC,mBAAmB,KAGjGzC,EAAcxD,UAAU8B,OAAS,WAE7B,IAAK,IAAInC,KAAO6D,EAAcgC,OAGpBhC,EAAcgC,OAAO7F,GAAKsG,kBAQ5BzC,EAAcgC,OAAO7F,GAAKoG,MAAO,GANjCvC,EAAcgC,OAAO7F,GAAKoG,MAAgB,EAC1CvC,EAAcgC,OAAO7F,GAAKmG,SAAgB,EAC1CtC,EAAcgC,OAAO7F,GAAKsG,mBAAoB,GAQ7CzC,EAAcgC,OAAO7F,GAAKqG,UAEpBxC,EAAcgC,OAAO7F,GAI1B6D,EAAcgC,OAAO7F,GAAKmG,UAC5BtC,EAAcgC,OAAO7F,GAAKqG,IAAK,IAI3CxC,EAAcxD,UAAU+F,KAAO,SAASN,GAEpC,OAAQjC,EAAcgC,OAAOC,IAAYjC,EAAcgC,OAAOC,GAASM,MAG3EvC,EAAcxD,UAAU8F,QAAU,SAASL,GAEvC,OAAQjC,EAAcgC,OAAOC,IAAYjC,EAAcgC,OAAOC,GAASK,SAG3EtC,EAAcxD,UAAUgG,GAAK,SAASP,GAElC,OAAQjC,EAAcgC,OAAOC,IAAYjC,EAAcgC,OAAOC,GAASO,IAG3ExC,EAAcxD,UAAUkG,MAAQ,WAE5B,IAAIC,EAAO,gBACX,IAAK,IAAIC,KAAO5C,EAAcgC,OAC1BW,GAAQ,IAAMC,EAClBC,QAAQC,IAAIH,IAGD3C,IC9GX+C,EAAMC,ED8GKhD,yLE3GXiD,EAAmBC,EAAOC,EAG1BC,EAASC,EAAgBC,ECLvBC,aACF,SAAAA,EAAYpI,GAA0C,IAArCqI,EAAqCC,UAAAtG,OAAA,QAAAuG,IAAAD,UAAA,GAAAA,UAAA,GAA/B,CAACE,EAAG,EAAGzE,EAAG,EAAG0E,EAAG,GAAGC,EAAYJ,UAAAtG,OAAA,QAAAuG,IAAAD,UAAA,GAAAA,UAAA,GAAJ,+FAAIK,CAAArF,KAAA8E,GAClD9E,KAAKtD,KAAOA,EACZsD,KAAK+E,IAAM,IAAIO,UAAcP,EAAIG,EAAEH,EAAItE,EAAEsE,EAAII,GAC7CnF,KAAKoF,MAAQA,EACbpF,KAAKuF,MAAQ,EACbvF,KAAKwF,KAAOxF,KAAKyF,UAAU/I,GAE3BsD,KAAK0F,KAAO,IAAIC,eAAajJ,EAAK,CAACkJ,MAAOC,YAAUC,OAAQhF,KAAK,aAAcE,UAAW,YAC1FhB,KAAK0F,KAAKK,MAAMC,IAAI,GAAI,GAAI,IAC5BhG,KAAK0F,KAAKO,SAASxF,EAAI,GAEvBT,KAAKwF,KAAKU,IAAIlG,KAAK0F,MAEnB1F,KAAKwF,KAAKS,SAASE,KAAKnG,KAAK+E,KAC7B/E,KAAKwF,KAAKY,SAAS3F,EAAI2E,6DAIvB,IAAII,EAAO,IAAIF,WACXe,EAAS,IAAIf,OAAW,IAAIA,mBAAuB,GAAG,GAAG,EAAE,IAAI,IAAIA,sBACnEgB,EAAM,IAAIhB,OAAW,IAAIA,cAAkB,GAAG,EAAE,GAAG,IAAIA,sBAK3D,OAHAgB,EAAIL,SAASD,IAAI,GAAG,EAAE,GACtBR,EAAKU,IAAIG,EAAOC,GAETd,iCAGJe,GACAhC,EAASV,QAAQ,OAChB7D,KAAKuF,OAAS,IACfhB,EAASV,QAAQ,OAChB7D,KAAKuF,OAAS,IACfhB,EAASV,QAAQ,OAChB7D,KAAKoF,OAAS,IACfb,EAASV,QAAQ,OAChB7D,KAAKoF,OAAS,IAElBpF,KAAKuF,MAAQpF,KAAKkB,IAAI,EAAElB,KAAKiB,IAAIpB,KAAKuF,MAAM,KAE5CvF,KAAK+E,IAAImB,IAAI,IAAIZ,UAActF,KAAKuF,MAAQgB,EAAG,EAAE,GAAGC,eAAe,IAAIlB,UAAc,EAAE,EAAE,GAAGtF,KAAKoF,+CAGtFL,EAAIK,GACfpF,KAAKoF,MAAQA,EACbpF,KAAK+E,IAAIiB,IAAIjB,EAAIG,EAAEH,EAAItE,EAAEsE,EAAII,GAE7BnF,KAAKwF,KAAKS,SAASE,KAAKnG,KAAK+E,KAC7B/E,KAAKwF,KAAKY,SAAS3F,EAAIT,KAAKoF,2CAI5Bd,EAAM4B,IAAIlG,KAAKwF,8CAIflB,EAAMmC,OAAOzG,KAAKwF,2CDvDfkB,EAAS,GAIpBrG,OAAOvB,iBAAiB,SAyFxB,WACI,IAAI4B,EAAQL,OAAOsG,WACfhG,EAASN,OAAOuG,YACpBhC,EAAOiC,OAASnG,EAAQC,EACxBiE,EAAOkC,yBACPnC,EAASoC,QAAQrG,EAAOC,KA9FsB,GDJ9C2D,EAAQ,IAAIgB,QACZf,EAAW,IAAIhD,ECUfiD,EAASwC,OAAOxC,OAEhBK,EAAQ,IAAIS,SAEZZ,EAAQ,IAAIuC,KACNhH,WAAWtB,MAAMsH,SAAW,WAClCvB,EAAMzE,WAAWtB,MAAMuI,IAAM,MAE7BxC,EAAMzE,WAAWtB,MAAMwI,OAAS,IAChC/I,SAASoH,KAAKjH,YAAYmG,EAAMzE,aAEhC0E,EAAW,IAAIW,iBACNyB,QAAQ1G,OAAOsG,WAAWtG,OAAOuG,aAC1CjC,EAASyC,cAAc,SACvBhJ,SAASoH,KAAKjH,YAAYoG,EAAS1E,YAEnCqE,EAAM4B,IAAI,IAAIZ,aAAiB,IAAI,GAAG,MAAM,UAE5Cb,EAAQ,IAAIK,EAAIkC,OAAOK,UAEvBzC,EAAS,IAAIU,oBAAwB,GAAGjF,OAAOsG,WAAWtG,OAAOuG,YAAY,EAAE,MACxEX,SAASD,KAAK,GAAG,GAAG,GAC3BpB,EAAO0C,OAAO,IAAIhC,WAOlBd,EAAO+C,KAAK,OAAO,CAACF,QAASL,OAAOK,QAAQtC,IAAKN,EAAMM,IAAKK,MAAOX,EAAMW,OAAO,SAACoC,GAC7E,IAAIrL,EAAI,EACRqL,EAAYC,QAAQ,SAACnJ,GACdA,GACCoI,EAAOvK,GAAK,IAAI2I,EAAIxG,EAAE5B,KAAM4B,EAAEoJ,MAAM3C,IAAKzG,EAAEoJ,MAAMtC,OACjDsB,EAAOvK,GAAGwL,aACNjB,EAAOvK,GAAGO,OAASsK,OAAOK,UAC1BX,EAAOvK,GAAGqJ,KAAKiB,OAAOC,EAAOvK,GAAGuJ,MAChCgB,EAAOvK,GAAGqJ,KAAKU,IAAItB,KAGtB8B,EAAOvK,QAAK8I,EACjB9I,QAKZ,SAASyL,IACLrD,EAAS1E,SACT6E,EAAM7E,SAEN,IAAI0G,EAAK1B,EAAMgD,WAEfpD,EAAM5E,OAAO0G,GAEb,IAAIpK,EAAI,EACRqI,EAAO+C,KAAK,eAAe,CAACF,QAASL,OAAOK,QAAQtC,IAAKN,EAAMM,IAAKK,MAAOX,EAAMW,OAAO,SAACoC,GACrFA,EAAYC,QAAQ,SAACnJ,GACdA,OACkB2G,IAAdyB,EAAOvK,IACNuK,EAAOvK,GAAK,IAAI2I,EAAIxG,EAAE5B,KAAM4B,EAAEoJ,MAAM3C,IAAKzG,EAAEoJ,MAAMtC,OACjDsB,EAAOvK,GAAGwL,cAETjB,EAAOvK,GAAG2L,eAAexJ,EAAEoJ,MAAM3C,IAAIzG,EAAEoJ,MAAMtC,OAG/CsB,EAAOvK,KACNuK,EAAOvK,GAAG4L,gBACVrB,EAAOvK,QAAK8I,GAGpB9I,QAIR6L,sBAAsBJ,GAKtBjD,EAASsD,OAAO3D,EAAMM,GAnF1BgD","file":"main.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n","module.exports = (__webpack_require__(1))(0);","module.exports = vendor_3e8f60c42333e5aa2739;","module.exports = (__webpack_require__(1))(5);","module.exports = (__webpack_require__(1))(4);","!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):e.Stats=t()}(this,function(){\"use strict\";var c=function(){var n=0,l=document.createElement(\"div\");function e(e){return l.appendChild(e.dom),e}function t(e){for(var t=0;t<l.children.length;t++)l.children[t].style.display=t===e?\"block\":\"none\";n=e}l.style.cssText=\"position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000\",l.addEventListener(\"click\",function(e){e.preventDefault(),t(++n%l.children.length)},!1);var i=(performance||Date).now(),a=i,o=0,f=e(new c.Panel(\"FPS\",\"#0ff\",\"#002\")),r=e(new c.Panel(\"MS\",\"#0f0\",\"#020\"));if(self.performance&&self.performance.memory)var d=e(new c.Panel(\"MB\",\"#f08\",\"#201\"));return t(0),{REVISION:16,dom:l,addPanel:e,showPanel:t,begin:function(){i=(performance||Date).now()},end:function(){o++;var e=(performance||Date).now();if(r.update(e-i,200),a+1e3<=e&&(f.update(1e3*o/(e-a),100),a=e,o=0,d)){var t=performance.memory;d.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return e},update:function(){i=this.end()},domElement:l,setMode:t}};return c.Panel=function(n,l,i){var a=1/0,o=0,f=Math.round,r=f(window.devicePixelRatio||1),d=80*r,e=48*r,c=3*r,p=2*r,u=3*r,s=15*r,m=74*r,h=30*r,y=document.createElement(\"canvas\");y.width=d,y.height=e,y.style.cssText=\"width:80px;height:48px\";var v=y.getContext(\"2d\");return v.font=\"bold \"+9*r+\"px Helvetica,Arial,sans-serif\",v.textBaseline=\"top\",v.fillStyle=i,v.fillRect(0,0,d,e),v.fillStyle=l,v.fillText(n,c,p),v.fillRect(u,s,m,h),v.fillStyle=i,v.globalAlpha=.9,v.fillRect(u,s,m,h),{dom:y,update:function(e,t){a=Math.min(a,e),o=Math.max(o,e),v.fillStyle=i,v.globalAlpha=1,v.fillRect(0,0,d,s),v.fillStyle=l,v.fillText(f(e)+\" \"+n+\" (\"+f(a)+\"-\"+f(o)+\")\",c,p),v.drawImage(y,u+r,s,m-r,h,u,s,m-r,h),v.fillRect(u+m-r,s,r,h),v.fillStyle=i,v.globalAlpha=.9,v.fillRect(u+m-r,s,r,f((1-e/t)*h))}}},c});\n","/**\r\n * @author Lee Stemkoski\r\n *\r\n * Usage:\r\n * (1) create a global variable:\r\n *      var keyboard = new KeyboardState();\r\n * (2) during main loop:\r\n *       keyboard.update();\r\n * (3) check state of keys:\r\n *       keyboard.down(\"A\")    -- true for one update cycle after key is pressed\r\n *       keyboard.pressed(\"A\") -- true as long as key is being pressed\r\n *       keyboard.up(\"A\")      -- true for one update cycle after key is released\r\n *\r\n *  See KeyboardState.k object data below for names of keys whose state can be polled\r\n */\r\n\r\n// initialization\r\nvar KeyboardState = function()\r\n{\r\n    // bind keyEvents\r\n    document.addEventListener(\"keydown\", KeyboardState.onKeyDown, false);\r\n    document.addEventListener(\"keyup\",   KeyboardState.onKeyUp,   false);\r\n}\r\n\r\n///////////////////////////////////////////////////////////////////////////////\r\n\r\nKeyboardState.k =\r\n    {\r\n        8: \"backspace\",  9: \"tab\",       13: \"enter\",    16: \"shift\",\r\n        17: \"ctrl\",     18: \"alt\",       27: \"esc\",      32: \"space\",\r\n        33: \"pageup\",   34: \"pagedown\",  35: \"end\",      36: \"home\",\r\n        37: \"left\",     38: \"up\",        39: \"right\",    40: \"down\",\r\n        45: \"insert\",   46: \"delete\",   186: \";\",       187: \"=\",\r\n        188: \",\",      189: \"-\",        190: \".\",       191: \"/\",\r\n        219: \"[\",      220: \"\\\\\",       221: \"]\",       222: \"'\"\r\n    }\r\n\r\nKeyboardState.status = {};\r\n\r\nKeyboardState.keyName = function ( keyCode )\r\n{\r\n    return ( KeyboardState.k[keyCode] != null ) ?\r\n        KeyboardState.k[keyCode] :\r\n        String.fromCharCode(keyCode);\r\n}\r\n\r\nKeyboardState.onKeyUp = function(event)\r\n{\r\n    event.preventDefault();\r\n    var key = KeyboardState.keyName(event.keyCode);\r\n    if ( KeyboardState.status[key] )\r\n        KeyboardState.status[key].pressed = false;\r\n}\r\n\r\nKeyboardState.onKeyDown = function(event)\r\n{\r\n    event.preventDefault();\r\n    var key = KeyboardState.keyName(event.keyCode);\r\n    if ( !KeyboardState.status[key] )\r\n        KeyboardState.status[key] = { down: false, pressed: false, up: false, updatedPreviously: false };\r\n}\r\n\r\nKeyboardState.prototype.update = function()\r\n{\r\n    for (var key in KeyboardState.status)\r\n    {\r\n        // insure that every keypress has \"down\" status exactly once\r\n        if ( !KeyboardState.status[key].updatedPreviously )\r\n        {\r\n            KeyboardState.status[key].down        \t\t= true;\r\n            KeyboardState.status[key].pressed     \t\t= true;\r\n            KeyboardState.status[key].updatedPreviously = true;\r\n        }\r\n        else // updated previously\r\n        {\r\n            KeyboardState.status[key].down = false;\r\n        }\r\n\r\n        // key has been flagged as \"up\" since last update\r\n        if ( KeyboardState.status[key].up )\r\n        {\r\n            delete KeyboardState.status[key];\r\n            continue; // move on to next key\r\n        }\r\n\r\n        if ( !KeyboardState.status[key].pressed ) // key released\r\n            KeyboardState.status[key].up = true;\r\n    }\r\n}\r\n\r\nKeyboardState.prototype.down = function(keyName)\r\n{\r\n    return (KeyboardState.status[keyName] && KeyboardState.status[keyName].down);\r\n}\r\n\r\nKeyboardState.prototype.pressed = function(keyName)\r\n{\r\n    return (KeyboardState.status[keyName] && KeyboardState.status[keyName].pressed);\r\n}\r\n\r\nKeyboardState.prototype.up = function(keyName)\r\n{\r\n    return (KeyboardState.status[keyName] && KeyboardState.status[keyName].up);\r\n}\r\n\r\nKeyboardState.prototype.debug = function()\r\n{\r\n    var list = \"Keys active: \";\r\n    for (var arg in KeyboardState.status)\r\n        list += \" \" + arg\r\n    console.log(list);\r\n}\r\n\r\nexport default KeyboardState\r\n\r\n///////////////////////////////////////////////////////////////////////////////","import * as THREE from 'three'\r\nimport KeyboardState from './keyboard.js'\r\n\r\nvar scene,keyboard;\r\n\r\nfunction initScene() {\r\n    scene = new THREE.Scene();\r\n    keyboard = new KeyboardState();\r\n}\r\n\r\nexport {scene,initScene,keyboard}","import * as THREE from 'three'\r\nimport OrbitControls from 'three-orbitcontrols'\r\nimport Stats from 'stats-js'\r\nimport {scene, initScene, keyboard} from './scene.js'\r\nimport {Car} from './Car.js'\r\n\r\nvar socket,allCar = [],myCar, stats;\r\n//-----------------------three js-------------------------\r\n\r\nvar renderer,camera,controls,clock,gyro;\r\nwindow.addEventListener('resize', onWindowResize, false);\r\n\r\ninit();\r\nanimate();\r\n\r\nfunction init() {\r\n    initScene();\r\n    socket = parent.socket;\r\n\r\n    clock = new THREE.Clock();\r\n\r\n    stats = new Stats();\r\n    stats.domElement.style.position = 'absolute';\r\n    stats.domElement.style.top = '0px';\r\n\r\n    stats.domElement.style.zIndex = 100;\r\n    document.body.appendChild(stats.domElement);\r\n\r\n    renderer = new THREE.WebGLRenderer();\r\n    renderer.setSize(window.innerWidth,window.innerHeight);\r\n    renderer.setClearColor(0x888888);\r\n    document.body.appendChild(renderer.domElement);\r\n\r\n    scene.add(new THREE.GridHelper(500,50,'red','white'));\r\n\r\n    myCar = new Car(parent.account);\r\n\r\n    camera = new THREE.PerspectiveCamera(35,window.innerWidth/window.innerHeight,1,1000);\r\n    camera.position.set(-50,10,0);\r\n    camera.lookAt(new THREE.Vector3());\r\n\r\n/*\r\n    controls = new OrbitControls(camera,renderer.domElement);\r\n    controls.enableKeys = false;*/\r\n\r\n\r\n    socket.emit('init',{account: parent.account,pos: myCar.pos, angle: myCar.angle},(allCarState) => {\r\n        var i = 0;\r\n        allCarState.forEach((e) => {\r\n            if(e) {\r\n                allCar[i] = new Car(e.name, e.state.pos, e.state.angle);\r\n                allCar[i].addToScene();\r\n                if (allCar[i].name === parent.account) {\r\n                    allCar[i].body.remove(allCar[i].text);\r\n                    allCar[i].body.add(camera);\r\n                }\r\n            }\r\n            else allCar[i] = undefined;\r\n            i++;\r\n        });\r\n    });\r\n}\r\n\r\nfunction animate() {\r\n    keyboard.update();\r\n    stats.update();\r\n\r\n    var dt = clock.getDelta();\r\n\r\n    myCar.update(dt);\r\n\r\n    var i = 0;\r\n    socket.emit('clientUpdate',{account: parent.account,pos: myCar.pos, angle: myCar.angle},(allCarState) => {\r\n        allCarState.forEach((e) => {\r\n            if(e) {\r\n                if(allCar[i] === undefined) {\r\n                    allCar[i] = new Car(e.name, e.state.pos, e.state.angle);\r\n                    allCar[i].addToScene();\r\n                }\r\n                else allCar[i].updateByServer(e.state.pos,e.state.angle);\r\n            }\r\n            else {\r\n                if(allCar[i]) {\r\n                    allCar[i].removeToScene();\r\n                    allCar[i] = undefined;\r\n                }\r\n            }\r\n            i++;\r\n        });\r\n    });\r\n\r\n    requestAnimationFrame(animate);\r\n    render();\r\n}\r\n\r\nfunction render() {\r\n    renderer.render(scene,camera);\r\n}\r\n\r\nfunction onWindowResize() {\r\n    var width = window.innerWidth;\r\n    var height = window.innerHeight;\r\n    camera.aspect = width / height;\r\n    camera.updateProjectionMatrix();\r\n    renderer.setSize(width, height);\r\n}","import * as THREE from 'three'\r\nimport {scene,keyboard} from './scene.js'\r\nimport {SpriteText2D, textAlign} from 'three-text2d'\r\n\r\nclass Car{\r\n    constructor(name,pos = {x: 0, y: 0, z: 0},angle = 0.0){\r\n        this.name = name;\r\n        this.pos = new THREE.Vector3(pos.x,pos.y,pos.z);\r\n        this.angle = angle;\r\n        this.speed = 0.0;\r\n        this.body = this.buildBody(name);\r\n\r\n        this.text = new SpriteText2D(name,{align: textAlign.center, font:'40px Arial', fillStyle: '#ff0000'});\r\n        this.text.scale.set(0.2,0.2,0.2);\r\n        this.text.position.y = 10;\r\n\r\n        this.body.add(this.text);\r\n\r\n        this.body.position.copy(this.pos);\r\n        this.body.rotation.y = angle;\r\n    }\r\n\r\n    buildBody(){\r\n        var body = new THREE.Object3D();\r\n        var circle = new THREE.Mesh(new THREE.CylinderGeometry(10,10,6,64),new THREE.MeshNormalMaterial());\r\n        var gun = new THREE.Mesh(new THREE.BoxGeometry(10,6,3),new THREE.MeshNormalMaterial());\r\n\r\n        gun.position.set(10,0,0);\r\n        body.add(circle,gun);\r\n\r\n        return body;\r\n    }\r\n\r\n    update(dt){\r\n        if(keyboard.pressed(\"W\"))\r\n            this.speed += 0.5;\r\n        if(keyboard.pressed(\"S\"))\r\n            this.speed -= 0.5;\r\n        if(keyboard.pressed(\"A\"))\r\n            this.angle += 0.1;\r\n        if(keyboard.pressed(\"D\"))\r\n            this.angle -= 0.1;\r\n\r\n        this.speed = Math.max(0,Math.min(this.speed,70));\r\n\r\n        this.pos.add(new THREE.Vector3(this.speed * dt,0,0).applyAxisAngle(new THREE.Vector3(0,1,0),this.angle));\r\n    }\r\n\r\n    updateByServer(pos,angle){\r\n        this.angle = angle;\r\n        this.pos.set(pos.x,pos.y,pos.z);\r\n\r\n        this.body.position.copy(this.pos);\r\n        this.body.rotation.y = this.angle;\r\n    }\r\n\r\n    addToScene(){\r\n        scene.add(this.body);\r\n    }\r\n\r\n    removeToScene(){\r\n        scene.remove(this.body);\r\n    }\r\n}\r\n\r\nexport {Car}"],"sourceRoot":""}