{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///delegated ./node_modules/three/build/three.module.js from dll-reference vendor_ce05ef063212faaa23e1","webpack:///delegated ./node_modules/jquery/dist/jquery.js from dll-reference vendor_ce05ef063212faaa23e1","webpack:///external \"vendor_ce05ef063212faaa23e1\"","webpack:///delegated ./node_modules/socket.io-client/lib/index.js from dll-reference vendor_ce05ef063212faaa23e1","webpack:///delegated ./node_modules/three-orbitcontrols/OrbitControls.js from dll-reference vendor_ce05ef063212faaa23e1","webpack:///./Hw5/initScene.js","webpack:///./Hw5/main.js","webpack:///./Hw5/Car.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","vendor_ce05ef063212faaa23e1","scene","ID","socket","renderer","camera","cameraHUD","cameraLB","sceneRTT","cameraRTT","Car","data","arguments","length","undefined","_classCallCheck","this","body","buildBody","turn","THREE","position","set","add","tireBody3","lookAt","pos","x","y","z","rotation","frontRot","rot","dt","face","geometry","vertices","push","faces","computeBoundingSphere","computeFaceNormals","computeVertexNormals","color","loader","crossOrigin","tireTexture","load","tireSideTexture","wrapS","repeat","tireBody","tire","map","transparent","side","tire2","tireSide","Math","PI","tireBody2","clone","cars","$","username","lastTypingTime","COLORS","$window","window","$usernameInput","$messages","$inputMessage","$loginPage","$chatPage","$threeJS","connected","typing","$currentInput","focus","io","addParticipantsMessage","message","numUsers","log","options","$el","addClass","text","addMessageElement","addChatMessage","$typingMessages","getTypingMessages","fade","remove","$usernameDiv","css","getUsernameColor","$messageBodyDiv","typingClass","$messageDiv","append","removeChatTyping","fadeOut","el","prepend","hide","fadeIn","scrollTop","scrollHeight","cleanInput","input","html","filter","hash","charCodeAt","index","abs","keydown","event","ctrlKey","metaKey","altKey","console","which","val","emit","trim","show","off","on","Date","getTime","setTimeout","click","playData","forEach","e","animate","addChatTyping","renderTarget","ThreeDOM","document","getElementById","ww","hh","update","requestAnimationFrame","offsetWidth","offsetHeight","setScissorTest","setViewport","setScissor","clear","render","setRenderTarget","setSize","setClearColor","autoClear","appendChild","domElement","aspect","minFilter","magFilter","format","plane","texture","OrbitControl","init"],"mappings":"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","file":"main.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n","module.exports = (__webpack_require__(2))(12);","module.exports = (__webpack_require__(2))(54);","module.exports = vendor_ce05ef063212faaa23e1;","module.exports = (__webpack_require__(2))(28);","module.exports = (__webpack_require__(2))(27);","import * as THREE from 'three'\r\n\r\nvar scene;\r\n\r\nfunction initScene(){\r\n    scene = new THREE.Scene();\r\n}\r\n\r\nexport {scene,initScene};","import $ from 'jquery';\r\nimport io from 'socket.io-client';\r\nimport * as THREE from 'three';\r\nimport OrbitControl from 'three-orbitcontrols';\r\nimport Car from './Car.js'\r\nimport {scene,initScene} from './initScene.js';\r\n\r\n// ---------------------- 以下是 socket.io 白版 ---------------//\r\n\r\nvar ID, cars = [],socket;\r\n\r\n$(function() {\r\n    var FADE_TIME = 150; // ms\r\n    var TYPING_TIMER_LENGTH = 400; // ms\r\n    var COLORS = [\r\n      '#e21400', '#91580f', '#f8a700', '#f78b00',\r\n      '#58dc00', '#287b00', '#a8f07a', '#4ae8c4',\r\n      '#3b88eb', '#3824aa', '#a700ff', '#d300e7'\r\n    ];\r\n  \r\n    // Initialize variables\r\n    var $window = $(window);\r\n    var $usernameInput = $('.usernameInput'); // Input for username\r\n    var $messages = $('.messages'); // Messages area\r\n    var $inputMessage = $('.inputMessage'); // Input message input box\r\n  \r\n    var $loginPage = $('.login.page'); // The login page\r\n    var $chatPage = $('.chat.page'); // The chatroom page\r\n    var $threeJS = $('.ThreeJS');\r\n  \r\n    // Prompt for setting a username\r\n    var username;\r\n    var connected = false;\r\n    var typing = false;\r\n    var lastTypingTime;\r\n    var $currentInput = $usernameInput.focus();\r\n  \r\n    socket = io();\r\n  \r\n    const addParticipantsMessage = (data) => {\r\n      var message = '';\r\n      if (data.numUsers === 1) {\r\n        message += \"there's 1 participant\";\r\n      } else {\r\n        message += \"there are \" + data.numUsers + \" participants\";\r\n      }\r\n      log(message);\r\n    }\r\n  \r\n    // Sets the client's username\r\n    const setUsername = () => {\r\n      username = cleanInput($usernameInput.val().trim());\r\n  \r\n      // If the username is valid\r\n      if (username) {\r\n        $loginPage.fadeOut();\r\n        $chatPage.show();\r\n        $threeJS.show();\r\n        $loginPage.off('click');\r\n        $currentInput = $inputMessage.focus();\r\n  \r\n        // Tell the server your username\r\n        socket.emit('add user', username);\r\n      }\r\n    }\r\n  \r\n    // Sends a chat message\r\n    const sendMessage = () => {\r\n      var message = $inputMessage.val();\r\n      // Prevent markup from being injected into the message\r\n      message = cleanInput(message);\r\n      // if there is a non-empty message and a socket connection\r\n      if (message && connected) {\r\n        $inputMessage.val('');\r\n        addChatMessage({\r\n          username: username,\r\n          message: message\r\n        });\r\n        // tell server to execute 'new message' and send along one parameter\r\n        socket.emit('new message', message);\r\n      }\r\n    }\r\n  \r\n    // Log a message\r\n      const log = (message, options) => {\r\n      var $el = $('<li>').addClass('log').text(message);\r\n      addMessageElement($el, options);\r\n    }\r\n  \r\n    // Adds the visual chat message to the message list\r\n    const addChatMessage = (data, options) => {\r\n      // Don't fade the message in if there is an 'X was typing'\r\n      var $typingMessages = getTypingMessages(data);\r\n      options = options || {};\r\n      if ($typingMessages.length !== 0) {\r\n        options.fade = false;\r\n        $typingMessages.remove();\r\n      }\r\n  \r\n      var $usernameDiv = $('<span class=\"username\"/>')\r\n        .text(data.username)\r\n        .css('color', getUsernameColor(data.username));\r\n      var $messageBodyDiv = $('<span class=\"messageBody\">')\r\n        .text(data.message);\r\n  \r\n      var typingClass = data.typing ? 'typing' : '';\r\n      var $messageDiv = $('<li class=\"message\"/>')\r\n        .data('username', data.username)\r\n        .addClass(typingClass)\r\n        .append($usernameDiv, $messageBodyDiv);\r\n  \r\n      addMessageElement($messageDiv, options);\r\n    }\r\n  \r\n    // Adds the visual chat typing message\r\n    const addChatTyping = (data) => {\r\n      data.typing = true;\r\n      data.message = 'is typing';\r\n      addChatMessage(data);\r\n    }\r\n  \r\n    // Removes the visual chat typing message\r\n    const removeChatTyping = (data) => {\r\n      getTypingMessages(data).fadeOut(function () {\r\n        $(this).remove();\r\n      });\r\n    }\r\n  \r\n    // Adds a message element to the messages and scrolls to the bottom\r\n    // el - The element to add as a message\r\n    // options.fade - If the element should fade-in (default = true)\r\n    // options.prepend - If the element should prepend\r\n    //   all other messages (default = false)\r\n    const addMessageElement = (el, options) => {\r\n      var $el = $(el);\r\n  \r\n      // Setup default options\r\n      if (!options) {\r\n        options = {};\r\n      }\r\n      if (typeof options.fade === 'undefined') {\r\n        options.fade = true;\r\n      }\r\n      if (typeof options.prepend === 'undefined') {\r\n        options.prepend = false;\r\n      }\r\n  \r\n      // Apply options\r\n      if (options.fade) {\r\n        $el.hide().fadeIn(FADE_TIME);\r\n      }\r\n      if (options.prepend) {\r\n        $messages.prepend($el);\r\n      } else {\r\n        $messages.append($el);\r\n      }\r\n      $messages[0].scrollTop = $messages[0].scrollHeight;\r\n    }\r\n  \r\n    // Prevents input from having injected markup\r\n    const cleanInput = (input) => {\r\n      return $('<div/>').text(input).html();\r\n    }\r\n  \r\n    // Updates the typing event\r\n    const updateTyping = () => {\r\n      if (connected) {\r\n        if (!typing) {\r\n          typing = true;\r\n          socket.emit('typing');\r\n        }\r\n        lastTypingTime = (new Date()).getTime();\r\n  \r\n        setTimeout(() => {\r\n          var typingTimer = (new Date()).getTime();\r\n          var timeDiff = typingTimer - lastTypingTime;\r\n          if (timeDiff >= TYPING_TIMER_LENGTH && typing) {\r\n            socket.emit('stop typing');\r\n            typing = false;\r\n          }\r\n        }, TYPING_TIMER_LENGTH);\r\n      }\r\n    }\r\n  \r\n    // Gets the 'X is typing' messages of a user\r\n    const getTypingMessages = (data) => {\r\n      return $('.typing.message').filter(function (i) {\r\n        return $(this).data('username') === data.username;\r\n      });\r\n    }\r\n  \r\n    // Gets the color of a username through our hash function\r\n    const getUsernameColor = (username) => {\r\n      // Compute hash code\r\n      var hash = 7;\r\n      for (var i = 0; i < username.length; i++) {\r\n         hash = username.charCodeAt(i) + (hash << 5) - hash;\r\n      }\r\n      // Calculate color\r\n      var index = Math.abs(hash % COLORS.length);\r\n      return COLORS[index];\r\n    }\r\n  \r\n    // Keyboard events\r\n    $window.keydown((event) => {\r\n      // Auto-focus the current input when a key is typed\r\n      if (!(event.ctrlKey || event.metaKey || event.altKey)) {\r\n        $currentInput.focus();\r\n      }\r\n      // When the client hits ENTER on their keyboard\r\n      console.log(event.which);\r\n      if (event.which === 13) {\r\n        if (username) {\r\n          sendMessage();\r\n          socket.emit('stop typing');\r\n          typing = false;\r\n        } else {\r\n          setUsername();\r\n        }\r\n      }\r\n    });\r\n  \r\n    $inputMessage.on('input', () => {\r\n      updateTyping();\r\n    });\r\n  \r\n    // Click events\r\n  \r\n    // Focus input when clicking anywhere on login page\r\n    $loginPage.click(() => {\r\n      $currentInput.focus();\r\n    });\r\n  \r\n    // Focus input when clicking on the message input's border\r\n    $inputMessage.click(() => {\r\n      $inputMessage.focus();\r\n    });\r\n  \r\n    // Socket events\r\n  \r\n    // Whenever the server emits 'login', log the login message\r\n    socket.on('login', (data) => {\r\n      connected = true;\r\n      // Display the welcome message\r\n      var message = \"Welcome to Socket.IO Chat – \";\r\n      log(message, {\r\n        prepend: true\r\n      });\r\n      addParticipantsMessage(data);\r\n      data.playData.forEach((e) => {\r\n\r\n        if(e.ID === data.ID)\r\n          cars.push(new Car(e,camera,cameraLB));\r\n        else\r\n          cars.push(new Car(e));\r\n      });\r\n\r\n      ID = data.ID;\r\n      animate();\r\n    });\r\n  \r\n    // Whenever the server emits 'new message', update the chat body\r\n    socket.on('new message', (data) => {\r\n      addChatMessage(data);\r\n    });\r\n  \r\n    // Whenever the server emits 'user joined', log it in the chat body\r\n    socket.on('user joined', (data) => {\r\n      log(data.username + ' joined');\r\n      addParticipantsMessage(data);\r\n      cars.push(new Car(data.playData));\r\n    });\r\n  \r\n    // Whenever the server emits 'user left', log it in the chat body\r\n    socket.on('user left', (data) => {\r\n      log(data.username + ' left');\r\n      addParticipantsMessage(data);\r\n      removeChatTyping(data);\r\n    });\r\n  \r\n    // Whenever the server emits 'typing', show the typing message\r\n    socket.on('typing', (data) => {\r\n      addChatTyping(data);\r\n    });\r\n  \r\n    // Whenever the server emits 'stop typing', kill the typing message\r\n    socket.on('stop typing', (data) => {\r\n      removeChatTyping(data);\r\n    });\r\n  \r\n    socket.on('disconnect', () => {\r\n      log('you have been disconnected');\r\n    });\r\n  \r\n    socket.on('reconnect', () => {\r\n      log('you have been reconnected');\r\n      if (username) {\r\n        socket.emit('add user', username);\r\n      }\r\n    });\r\n  \r\n    socket.on('reconnect_error', () => {\r\n      log('attempt to reconnect has failed');\r\n    });\r\n    \r\n\r\n});\r\n\r\n// ------------------------- 以下是 ThreeJS --------------------//\r\n\r\nvar renderer, camera, controls, cameraHUD, cameraLB, sceneRTT, cameraRTT;\r\nvar ThreeDOM = document.getElementById('ThreeJS');\r\nvar renderTarget;\r\n\r\ninit();\r\n\r\nfunction init(){\r\n    renderer = new THREE.WebGLRenderer();\r\n    renderer.setSize(ThreeDOM.offsetWidth,ThreeDOM.offsetHeight);\r\n    //console.log(ThreeDOM.offsetHeight);\r\n    renderer.setClearColor(0x888888);\r\n    renderer.autoClear = false;\r\n\r\n    document.getElementById('ThreeJS').appendChild(renderer.domElement);\r\n\r\n    initScene();\r\n    sceneRTT = new THREE.Scene();\r\n\r\n    camera = new THREE.PerspectiveCamera(35,ThreeDOM.offsetWidth / ThreeDOM.offsetHeight, 1, 1000);\r\n    camera.position.set(-50,15,0);\r\n    camera.lookAt(new THREE.Vector3());\r\n\r\n    let aspect = ThreeDOM.offsetWidth / ThreeDOM.offsetHeight;\r\n    cameraHUD = new THREE.OrthographicCamera(aspect * -90, aspect * 90, 90, -90, 1, 1000);\r\n    cameraHUD.position.set(0,50,0);\r\n    cameraHUD.lookAt(new THREE.Vector3());\r\n\r\n    cameraRTT = new THREE.OrthographicCamera(aspect * -90, aspect * 90, 90, -90, 1, 1000);\r\n\r\n    renderTarget = new THREE.WebGLRenderTarget(ThreeDOM.offsetWidth * 0.25, ThreeDOM.offsetHeight * 0.25, {\r\n      minFilter: THREE.LinearFilter,\r\n      magFilter: THREE.NearestFilter,\r\n      format: THREE.RGBFormat\r\n    });\r\n\r\n    cameraLB = new THREE.PerspectiveCamera(35, aspect, 1, 1000);\r\n    let plane = new THREE.Mesh(new THREE.PlaneGeometry(aspect * 60, 60), new THREE.MeshBasicMaterial({\r\n      map: renderTarget.texture,\r\n      side: THREE.DoubleSide\r\n    }))\r\n    plane.rotation.y = Math.PI;\r\n    sceneRTT.add(plane);\r\n    \r\n\r\n    scene.add(new THREE.GridHelper(500,50,'red','white'));\r\n\r\n    controls = new OrbitControl(camera,renderer.domElement);\r\n\r\n    scene.add(new THREE.AmbientLight(0x888888));\r\n}\r\n\r\nfunction animate(){\r\n    cars[ID - 1].update(0);\r\n    socket.emit('update',{\r\n      ID: ID,\r\n      pos: {\r\n        x: cars[ID - 1].body.position.x,\r\n        y: cars[ID - 1].body.position.y,\r\n        z: cars[ID - 1].body.position.z\r\n      },\r\n      rot: cars[ID - 1].body.rotation.y,\r\n      frontRot: cars[ID - 1].turn.rotation.y\r\n    }\r\n    ,(data) => {\r\n      data.forEach((e) => {\r\n        if(e.ID !== ID){\r\n          //console.log(e.ID - 1 + ' ' + cars[e.ID - 1].turn.rotation.y);\r\n          cars[e.ID - 1].body.position.x = e.pos.x;\r\n          cars[e.ID - 1].body.position.y = e.pos.y;\r\n          cars[e.ID - 1].body.position.z = e.pos.z;\r\n          cars[e.ID - 1].body.rotation.y = e.rot;\r\n          cars[e.ID - 1].turn.rotation.y = e.frontRot;\r\n        }\r\n      })\r\n    });\r\n\r\n    requestAnimationFrame(animate);\r\n    render();\r\n}\r\n\r\n\r\nfunction render(){\r\n  var ww = ThreeDOM.offsetWidth;\r\n  var hh = ThreeDOM.offsetHeight;\r\n\r\n  renderer.setScissorTest(true);\r\n  renderer.setViewport(0, 0, ww, hh);\r\n  renderer.setScissor(0, 0, ww, hh);\r\n  renderer.clear();\r\n  renderer.render(scene, camera);\r\n\r\n  renderer.setViewport(ww / 4 * 3, hh / 4 * 3, ww / 4, hh / 4);\r\n  renderer.setScissor(ww / 4 * 3, hh / 4 * 3, ww / 4, hh / 4);\r\n  renderer.clear();\r\n\r\n  renderer.render(scene,cameraHUD);\r\n\r\n  renderer.setViewport(0, 0, ww / 4, hh / 4);\r\n  renderer.setScissor(0, 0, ww / 4, hh / 4);\r\n  renderer.clear();\r\n\r\n  renderer.setRenderTarget(renderTarget);\r\n  renderer.render(scene,cameraLB);\r\n  renderer.setRenderTarget(null);\r\n  renderer.render(sceneRTT,cameraRTT);\r\n\r\n  renderer.setScissorTest(false);\r\n}\r\n  ","import * as THREE from 'three'\r\nimport {scene} from './initScene.js'\r\n\r\nclass Car{\r\n    constructor(data,camera = undefined, cameraLB = undefined){\r\n        this.body = this.buildBody();\r\n        \r\n        this.turn = new THREE.Object3D();\r\n        this.turn.position.set(19,0,0);\r\n        this.turn.add(this.tireBody3, new THREE.AxesHelper(18));\r\n\r\n        if(camera){\r\n            this.body.add(camera, cameraLB);\r\n            cameraLB.position.set(19,5,-10);\r\n            cameraLB.add(new THREE.AxesHelper(15));\r\n            cameraLB.lookAt(new THREE.Vector3(0,0,-14));\r\n        }\r\n        this.body.add(this.turn);\r\n\r\n        this.body.position.set(\r\n            data.pos.x,\r\n            data.pos.y,\r\n            data.pos.z\r\n        )\r\n\r\n        this.turn.rotation.y = data.frontRot;\r\n        this.body.rotation.y = data.rot;\r\n\r\n        this.body.position.y = 5;\r\n\r\n        scene.add(this.body);\r\n    }\r\n\r\n\r\n    update(dt){\r\n        /*this.tireBody.rotation.z += 0.05;\r\n        this.tireBody2.rotation.z += 0.05;\r\n        this.tireBody3.rotation.z += 0.05;\r\n        this.body.rotation.y += 0.05;*/\r\n        this.turn.rotation.y += 0.05;\r\n    }\r\n\r\n    buildBody(){\r\n        let geometry = new THREE.Geometry();\r\n        let face;\r\n\r\n        geometry.vertices.push(\r\n            new THREE.Vector3(0,10,0),\r\n            new THREE.Vector3(-5,0,-7.5),\r\n            new THREE.Vector3(-5,0,7.5),\r\n            new THREE.Vector3(19,0,0)\r\n        );\r\n\r\n        face = new THREE.Face3(0,1,2);\r\n        geometry.faces.push(face);\r\n        face = new THREE.Face3(0,3,1);\r\n        geometry.faces.push(face);\r\n        face = new THREE.Face3(0,2,3);\r\n        geometry.faces.push(face);\r\n        face = new THREE.Face3(1,3,2);\r\n        geometry.faces.push(face);\r\n\r\n        geometry.computeBoundingSphere();\r\n        geometry.computeFaceNormals();\r\n        geometry.computeVertexNormals();\r\n\r\n        let body = new THREE.Mesh(geometry,new THREE.MeshNormalMaterial({color: 0x0000ff}));\r\n        body.add(new THREE.AxesHelper(10));\r\n        \r\n        var loader = new THREE.TextureLoader();\r\n        loader.crossOrigin = '';\r\n        var tireTexture = loader.load('https://i.imgur.com/jPX4y1n.png?1');    //輪胎\r\n        var tireSideTexture = loader.load('https://i.imgur.com/21rKfjX.jpg?2'); //胎痕\r\n        tireSideTexture.wrapS = THREE.RepeatWrapping;\r\n        tireSideTexture.repeat.set(6,1);\r\n\r\n        this.tireBody = new THREE.Object3D();\r\n        var tire = new THREE.Mesh(new THREE.CircleGeometry(5,64),new THREE.MeshPhongMaterial({map: tireTexture, transparent: true, side: THREE.DoubleSide}));\r\n        var tire2 = new THREE.Mesh(new THREE.CircleGeometry(5,64),new THREE.MeshPhongMaterial({map: tireTexture, transparent: true, side: THREE.DoubleSide}));\r\n        var tireSide = new THREE.Mesh(new THREE.CylinderGeometry(5,5,4,64,1,true),new THREE.MeshPhongMaterial({map: tireSideTexture, side: THREE.DoubleSide}));\r\n\r\n        tire.position.set(0,0,2);\r\n        tire2.position.set(0,0,-2);\r\n        tireSide.rotation.x = Math.PI / 2;\r\n        this.tireBody.add(tire,tire2,tireSide,new THREE.AxesHelper(10));\r\n        this.tireBody.position.set(-5,0,-7.5);\r\n        \r\n        this.tireBody2 = this.tireBody.clone();\r\n        this.tireBody2.position.set(-5,0,7.5);\r\n\r\n        this.tireBody3 = this.tireBody.clone();\r\n        this.tireBody3.position.set(0,0,0);\r\n\r\n        body.add(this.tireBody,this.tireBody2);\r\n\r\n        return body;\r\n    }\r\n}\r\n\r\nexport default Car;"],"sourceRoot":""}