!function(t){var e={};function o(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=e,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(i,n,function(e){return t[e]}.bind(null,n));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=3)}([function(t,e,o){t.exports=o(1)(0)},function(t,e){t.exports=vendor_99ce509b92924a7ce61e},function(t,e,o){t.exports=o(1)(2)},function(t,e,o){"use strict";o.r(e);var i,n=o(0);o(2);function r(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var s,a,h,l,w=function(){function t(e,o,i,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.m=e,this.n=o,this.width=i,this.thickness=n,this.wallHeight=r,this.row=[],this.col=[],this.notRow=[],this.notCol=[],this.notWall=[],this.wall=[],this.graph=[],this.initMaze(e,o,i,n,r)}var e,o,s;return e=t,(o=[{key:"initMaze",value:function(t,e,o,r,s){this.initData(t,e);new n.Mesh(new n.BoxGeometry(o,s,r),new n.MeshNormalMaterial);var a,h=new n.Mesh(new n.BoxGeometry(e*o,s,r),new n.MeshNormalMaterial),l=new n.Mesh(new n.BoxGeometry(e*o,s,r),new n.MeshNormalMaterial),w=new n.Mesh(new n.BoxGeometry(r,s,t*o),new n.MeshNormalMaterial),p=new n.Mesh(new n.BoxGeometry(r,s,t*o),new n.MeshNormalMaterial);for(h.position.set(e*o/2,s/2,0),l.position.set(e*o/2,s/2,t*o),w.position.set(0,s/2,t*o/2),p.position.set(e*o,s/2,t*o/2),i.add(h,l,w,p),this.wall.push(h,l,w,p),a=0;a<t*e;a++){var u=[];a-e>=0&&u.push(a-e),a%e!=0&&u.push(a-1),(a+1)%e!=0&&u.push(a+1),a+e<t*e&&u.push(a+e),this.graph.push(u)}for(a=0;a<this.row.length;a++){var f=new n.Mesh(new n.BoxGeometry(o,s,r),new n.MeshNormalMaterial);f.position.x=this.row[a][1]*o,f.position.z=this.row[a][0]*o+o/2,f.position.y=s/2,f.rotation.y=Math.PI/2;var c=this.row[a][1]-1+e*this.row[a][0],d=this.row[a][1]+e*this.row[a][0];f.mazeData={isRow:!0,frontPoint:c,nextPoint:d},this.wall.push(f),i.add(f),this.graph[c].splice(this.graph[c].indexOf(d),1),this.graph[d].splice(this.graph[d].indexOf(c),1)}for(a=0;a<this.col.length;a++){var v=new n.Mesh(new n.BoxGeometry(o,s,r),new n.MeshNormalMaterial);v.position.z=this.col[a][1]*o,v.position.x=this.col[a][0]*o+o/2,v.position.y=s/2;var g=(this.col[a][1]-1)*e+this.col[a][0],m=this.col[a][1]*e+this.col[a][0];v.mazeData={isRow:!1,frontPoint:g,nextPoint:m},this.wall.push(v),i.add(v),this.graph[g].splice(this.graph[g].indexOf(m),1),this.graph[m].splice(this.graph[m].indexOf(g),1)}for(a=0;a<this.notCol.length;a++){var M=new n.Mesh(new n.BoxGeometry(o,s,r),new n.MeshNormalMaterial);M.position.z=this.notCol[a][1]*o,M.position.x=this.notCol[a][0]*o+o/2,M.position.y=s/2;var y=(this.notCol[a][1]-1)*e+this.notCol[a][0],x=this.notCol[a][1]*e+this.notCol[a][0];M.mazeData={isRow:!1,frontPoint:y,nextPoint:x},this.notWall.push(M),i.add(M)}for(a=0;a<this.notRow.length;a++){var b=new n.Mesh(new n.BoxGeometry(o,s,r),new n.MeshNormalMaterial);b.position.x=this.notRow[a][1]*o,b.position.z=this.notRow[a][0]*o+o/2,b.position.y=s/2,b.rotation.y=Math.PI/2;var P=this.notRow[a][1]-1+e*this.notRow[a][0],z=this.notRow[a][1]+e*this.notRow[a][0];b.mazeData={isRow:!0,frontPoint:P,nextPoint:z},this.notWall.push(b),i.add(b)}}},{key:"initData",value:function(t,e){for(var o=[],i=[],n=0;n<t*e;n++)o.push(n);for(var r=0;r<t;r++)for(var s=1;s<e;s++)i.push([0,r,s]);for(var a=0;a<e;a++)for(var h=1;h<t;h++)i.push([1,a,h]);for(;i.length>0;){var l=Math.floor(i.length*Math.random()),w=void 0,p=void 0;0===i[l][0]?(w=i[l][1]*e+i[l][2]-1,p=i[l][1]*e+i[l][2]):(w=(i[l][2]-1)*e+i[l][1],p=i[l][2]*e+i[l][1]),-1!==o[w]&&-1!==o[p]&&f(w,p)?0===i[l][0]?this.notRow.push([i[l][1],i[l][2]]):this.notCol.push([i[l][1],i[l][2]]):0===i[l][0]?this.row.push([i[l][1],i[l][2]]):this.col.push([i[l][1],i[l][2]]);var u=i[l];i[l]=i[i.length-1],i[i.length-1]=u,i.pop()}function f(t,e){var i=c(t),n=c(e);return i!==n&&(o[n]=i,!0)}function c(t){return t==o[t]?t:o[t]=c(o[t])}}},{key:"removeWall",value:function(t){var e=t.frontPoint,o=t.nextPoint,r=Math.floor(e/this.n),s=e%this.n+1;if(o-e==1){var a;for(a=0;a<this.row.length&&(this.row[a][0]!==r||this.row[a][1]!==s);a++);this.row.splice(a,1)}else{var h;for(h=0;h<this.col.length&&(this.col[h][0]!==r||this.col[h][1]!==s);h++);this.col.splice(h,1)}this.graph[e].push(o),this.graph[o].push(e);for(var l=e,w=[],p=0;p<this.graph[e].length;p++){var u=y(this.graph,e,this.graph[e][p]);if(-1!==u){w.push(u);break}}var f=Math.floor(w.length*Math.random());if(f+1===w.length?(e=w[f],o=w[0]):(e=w[f],o=w[f+1]),e>o){var c=e;e=o,o=c}this.graph[e].splice(this.graph[e].indexOf(o),1),this.graph[o].splice(this.graph[o].indexOf(e),1);var d=new n.Mesh(new n.BoxGeometry(this.width,this.wallHeight,this.thickness),new n.MeshNormalMaterial);if(o-e==1){var v=Math.floor(e/this.n),g=e%this.n+1;this.row.push([v,g]),d.position.x=g*this.width,d.position.z=v*this.width+this.width/2,d.position.y=this.wallHeight/2,d.rotation.y=Math.PI/2,d.mazeData={isRow:!0,frontPoint:e,nextPoint:o}}else{var m=e%this.n,M=Math.floor(e/this.n)+1;this.col.push([m,M]),d.position.z=M*this.width,d.position.x=m*this.width+this.width/2,d.position.y=this.wallHeight/2,d.mazeData={isRow:!1,frontPoint:e,nextPoint:o}}function y(t,e,o){if(o===l)return o;for(var i=0;i<t[o].length;i++)if(t[o][i]!==e){var n=y(t,o,t[o][i]);if(-1!==n)return w.push(n),o}return-1}i.add(d),this.wall.push(d)}}])&&r(e.prototype,o),s&&r(e,s),t}(),p=new n.Raycaster,u=new n.Vector2,f=[],c=0;window.addEventListener("resize",function(){var t=window.innerWidth,e=window.innerHeight;s.aspect=t/e,s.updateProjectionMatrix(),a.setSize(t,e)},!1),document.addEventListener("mousedown",function(t){t.preventDefault(),u.x=t.clientX/window.innerWidth*2-1,u.y=-t.clientY/window.innerHeight*2+1,p.setFromCamera(u,s);var e=p.intersectObjects(f);e.length>0&&(console.log(e[0]),"mazeData"in e[0].object&&(i.remove(e[0].object),l.removeWall(e[0].object.mazeData)))},!1),function(){i=new n.Scene,h=new n.Clock,(s=new n.PerspectiveCamera(50,window.innerWidth/window.innerHeight,1,1e4)).position.set(250,750,250),s.lookAt(new n.Vector3(250,0,250)),i.add(s),new n.GridHelper(500,10,"red","white").position.set(250,0,250),i.add(new n.AxisHelper(50)),(a=new n.WebGLRenderer).setSize(window.innerWidth,window.innerHeight),a.setClearColor(8947848),document.body.appendChild(a.domElement),(l=new w(10,10,50,5,50)).wall.forEach(function(t){f.push(t)}),console.log(l.wall.length);for(var t=l.notWall.length-1;t>0;t--){var e=Math.floor(Math.random()*(t+1)),o=l.notWall[t];l.notWall[t]=l.notWall[e],l.notWall[e]=o}}(),function t(){var e=h.getDelta();c+=e;c>=.25&&l.notWall.length>0&&(i.remove(l.notWall[0]),l.notWall.shift(),c=0);requestAnimationFrame(t);a.render(i,s)}()}]);
//# sourceMappingURL=main.bundle.js.map