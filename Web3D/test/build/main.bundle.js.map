{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///delegated ./node_modules/three/build/three.module.js from dll-reference vendor_99ce509b92924a7ce61e","webpack:///external \"vendor_99ce509b92924a7ce61e\"","webpack:///delegated ./node_modules/three-orbitcontrols/OrbitControls.js from dll-reference vendor_99ce509b92924a7ce61e","webpack:///./test/initScene.js","webpack:///./test/main.js","webpack:///./test/Maze.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","vendor_99ce509b92924a7ce61e","scene","camera","renderer","clock","maze","Maze","width","thickness","wallHeight","_classCallCheck","this","row","col","wall","graph","initMaze","console","log","initData","THREE","topWall","bottomWall","leftWall","rightWall","position","set","add","push","temp","length","wallclone","x","z","y","rotation","Math","PI","left","right","mazeData","isRow","frontPoint","nextPoint","splice","indexOf","top","bottom","sets","walls","j","choose","floor","random","a","b","Union_set","pop","find","data","start","path","DFS","front","now","raycaster","mouse","pickables","window","addEventListener","innerWidth","height","innerHeight","aspect","updateProjectionMatrix","setSize","document","e","preventDefault","clientX","clientY","setFromCamera","intersects","intersectObjects","remove","removeWall","lookAt","setClearColor","body","appendChild","domElement","forEach","animate","getDelta","requestAnimationFrame","render"],"mappings":"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","file":"main.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","module.exports = (__webpack_require__(1))(0);","module.exports = vendor_99ce509b92924a7ce61e;","module.exports = (__webpack_require__(1))(2);","import * as THREE from 'three'\r\n\r\nvar scene;\r\n\r\nfunction initScene(){\r\n    scene = new THREE.Scene();\r\n}\r\n\r\nexport {scene, initScene}","import * as THREE from 'three'\r\nimport OrbitControls from 'three-orbitcontrols'\r\nimport {scene, initScene} from './initScene.js'\r\nimport {Maze} from './Maze.js'\r\n\r\nvar camera, renderer, stats, clock, controls, maze;\r\nvar i, raycaster = new THREE.Raycaster(), mouse = new THREE.Vector2(),pickables = [];\r\nwindow.addEventListener('resize', onWindowResize, false);\r\n\r\ndocument.addEventListener('mousedown',onMouseDown,false);\r\n\r\ninit();\r\nanimate();\r\n\r\nfunction init() {\r\n\tinitScene();\r\n\t\r\n    clock = new THREE.Clock();\r\n\r\n    camera = new THREE.PerspectiveCamera(50, window.innerWidth / window.innerHeight, 1, 10000);\r\n    camera.position.set(250,750,250);\r\n    camera.lookAt(new THREE.Vector3(250,0,250));\r\n    scene.add(camera);\r\n\r\n    var gridXZ = new THREE.GridHelper(500, 10, 'red', 'white');\r\n    //scene.add(gridXZ);\r\n    gridXZ.position.set(250, 0, 250);\r\n    //gridXZ.rotation.x = Math.PI / 2;\r\n    scene.add(new THREE.AxisHelper(50));\r\n\r\n\r\n    renderer = new THREE.WebGLRenderer();\r\n    renderer.setSize(window.innerWidth, window.innerHeight);\r\n    renderer.setClearColor(0x888888);\r\n\r\n    //controls = new OrbitControls(camera, renderer.domElement);\r\n\r\n    document.body.appendChild(renderer.domElement);\r\n\t\r\n    maze = new Maze(10,10,50,5,50);\r\n    \r\n    maze.wall.forEach(function(e){\r\n        pickables.push(e);\r\n    });\r\n}\r\n\r\nfunction onWindowResize() {\r\n    var width = window.innerWidth;\r\n    var height = window.innerHeight;\r\n    camera.aspect = width / height;\r\n    camera.updateProjectionMatrix();\r\n    renderer.setSize(width, height);\r\n}\r\n\r\nfunction animate() {\r\n    var dt = clock.getDelta();\r\n\r\n    requestAnimationFrame(animate);\r\n    render();\r\n}\r\n\r\nfunction render() {\r\n    renderer.render(scene, camera);\r\n}\r\n\r\nfunction onMouseDown(e){\r\n    e.preventDefault();\r\n    mouse.x = (e.clientX / window.innerWidth) * 2 - 1;\r\n    mouse.y = -(e.clientY / window.innerHeight) * 2 + 1;\r\n\r\n    raycaster.setFromCamera(mouse, camera);\r\n    var intersects = raycaster.intersectObjects(pickables);\r\n    if(intersects.length > 0){\r\n        console.log(intersects[0]);\r\n        \r\n        if('mazeData' in intersects[0].object){\r\n            scene.remove(intersects[0].object);\r\n            maze.removeWall(intersects[0].object.mazeData);\r\n        }\r\n        \r\n    }\r\n\r\n}","import * as THREE from 'three'\r\nimport {scene} from './initScene.js'\r\n\r\nclass Maze{\r\n    // 製作一個M X N的迷宮，每個寬度為width，牆壁厚度為thickness，其高度為wallHeight\r\n    constructor(m,n,width,thickness,wallHeight){\r\n        this.m = m;\r\n        this.n = n;\r\n        this.width = width;\r\n        this.thickness = thickness;\r\n        this.wallHeight = wallHeight;\r\n        this.row = [];\r\n        this.col = [];\r\n        this.wall = [];\r\n        this.graph = [];\r\n\r\n        this.initMaze(m,n,width,thickness,wallHeight);\r\n\r\n\r\n        console.log(this.graph);\r\n    }\r\n\r\n    initMaze(m,n,width,thickness,wallHeight){\r\n        this.initData(m,n);\r\n\r\n        //var totalinWall = new THREE.Object3D();\r\n        //var mat = new THREE.MeshNormalMaterial();\r\n        var insideWall = new THREE.Mesh(new THREE.BoxGeometry(width, wallHeight, thickness), new THREE.MeshNormalMaterial());\r\n        \r\n        var topWall = new THREE.Mesh(new THREE.BoxGeometry(n * width,wallHeight,thickness),new THREE.MeshNormalMaterial());\r\n        var bottomWall = new THREE.Mesh(new THREE.BoxGeometry(n * width,wallHeight,thickness),new THREE.MeshNormalMaterial());\r\n        var leftWall = new THREE.Mesh(new THREE.BoxGeometry(thickness,wallHeight,m * width),new THREE.MeshNormalMaterial());\r\n        var rightWall = new THREE.Mesh(new THREE.BoxGeometry(thickness,wallHeight,m * width),new THREE.MeshNormalMaterial());\r\n        \r\n        topWall.position.set(n * width / 2,wallHeight / 2,0);\r\n        bottomWall.position.set(n * width / 2,wallHeight / 2,m * width);\r\n        leftWall.position.set(0,wallHeight / 2,m * width / 2);\r\n        rightWall.position.set(n * width, wallHeight / 2, m * width / 2);\r\n\r\n        scene.add(topWall,bottomWall,leftWall,rightWall);\r\n        this.wall.push(topWall,bottomWall,leftWall,rightWall);\r\n\r\n        var i;\r\n        /*init Graph use adjency list*/\r\n        \r\n        for(i = 0; i < m * n; i++){\r\n            var temp = [];\r\n\r\n            if(i - n >= 0) // top\r\n                temp.push(i - n);\r\n            if(i % n !== 0) // left\r\n                temp.push(i - 1);\r\n            if((i + 1) % n !== 0) // right\r\n                temp.push(i + 1);\r\n            if(i + n < m * n) // bottom\r\n               temp.push(i + n); \r\n            \r\n            this.graph.push(temp);\r\n        }\r\n        \r\n        ///////////row/////////////\r\n        for (i = 0; i < this.row.length; i++) {\r\n            let wallclone = new THREE.Mesh(new THREE.BoxGeometry(width, wallHeight, thickness), new THREE.MeshNormalMaterial());\r\n            wallclone.position.x = (this.row[i][1]) * width;\r\n            wallclone.position.z = this.row[i][0] * width + (width / 2);\r\n            wallclone.position.y = wallHeight / 2;\r\n            wallclone.rotation.y = Math.PI / 2;\r\n\r\n            // update graph\r\n            let left = (this.row[i][1] - 1) + n * this.row[i][0];\r\n            let right = this.row[i][1] + n * this.row[i][0];\r\n\r\n            wallclone.mazeData = {\r\n                isRow: true,\r\n                frontPoint: left,\r\n                nextPoint: right\r\n            }\r\n\r\n            this.wall.push(wallclone);\r\n            scene.add(wallclone);\r\n\r\n            this.graph[left].splice(this.graph[left].indexOf(right),1);\r\n            this.graph[right].splice(this.graph[right].indexOf(left),1);\r\n        }\r\n        ////////////////col/////////////////////  \r\n        for (i = 0; i < this.col.length; i++) {\r\n            let wallclone = new THREE.Mesh(new THREE.BoxGeometry(width, wallHeight, thickness), new THREE.MeshNormalMaterial());\r\n            wallclone.position.z = (this.col[i][1]) * width;\r\n            wallclone.position.x = this.col[i][0] * width + (width / 2);\r\n            wallclone.position.y = wallHeight / 2;\r\n            //wallclone.rotation.y = Math.PI/2;\r\n\r\n            // update graph\r\n            let top = (this.col[i][1] - 1) * n + this.col[i][0];\r\n            let bottom = this.col[i][1] * n + this.col[i][0];\r\n\r\n            wallclone.mazeData = {\r\n                isRow: false,\r\n                frontPoint: top,\r\n                nextPoint: bottom\r\n            }\r\n\r\n            this.wall.push(wallclone);\r\n            scene.add(wallclone);\r\n\r\n            this.graph[top].splice(this.graph[top].indexOf(bottom),1);\r\n            this.graph[bottom].splice(this.graph[bottom].indexOf(top),1);\r\n        }\r\n    }\r\n\r\n    // use kruskal's algorithm\r\n    initData(m,n){\r\n        var sets = [];\r\n        var walls = [];\r\n\r\n        for(let i = 0; i < m * n; i++)\r\n            sets.push(i);\r\n        \r\n        for(let i = 0; i < m; i++){\r\n            for(let j = 1; j < n; j++){\r\n                walls.push([0,i,j]);\r\n            }\r\n        }\r\n\r\n        for(let i = 0; i < n; i++){\r\n            for(let j = 1; j < m; j++){\r\n                walls.push([1,i,j]);\r\n            }\r\n        }\r\n\r\n        while(walls.length > 0){\r\n            let choose = Math.floor((walls.length * Math.random()));\r\n            let a,b;\r\n\r\n            //console.log('walls length: ' + walls.length);\r\n            //console.log('choose:' + choose);\r\n            if(walls[choose][0] === 0){\r\n                a = walls[choose][1] * n + walls[choose][2] - 1;\r\n                b = walls[choose][1] * n + walls[choose][2];\r\n            }\r\n            else {\r\n                a = (walls[choose][2] - 1) * n + walls[choose][1];\r\n                b = walls[choose][2] * n + walls[choose][1];\r\n            }\r\n\r\n            if(sets[a] === -1 || sets[b] === -1 || !Union_set(a,b)){\r\n                if(walls[choose][0] === 0)\r\n                    this.row.push([walls[choose][1],walls[choose][2]]);\r\n                else\r\n                    this.col.push([walls[choose][1],walls[choose][2]]);\r\n            }\r\n            \r\n            let temp = walls[choose];\r\n            walls[choose] = walls[walls.length - 1];\r\n            walls[walls.length - 1] = temp;\r\n\r\n            walls.pop();\r\n        }\r\n\r\n\r\n        function Union_set(x,y){\r\n            var a = find(x);\r\n            var b = find(y);\r\n\r\n            if(a !== b){\r\n                sets[b] = a;\r\n                return true;\r\n            }\r\n            else return false;\r\n        }\r\n\r\n        function find(n){\r\n            if(n == sets[n])\r\n                return n;\r\n            return sets[n] = find(sets[n]);\r\n        }\r\n    }\r\n\r\n\r\n    /*\r\n        data = {isRow, frontPoint, nextPoint}\r\n    */\r\n    removeWall(data){       //還沒做出row,col的刪除，pickable的刪除狀況，\r\n        let a = data.frontPoint;\r\n        let b = data.nextPoint;\r\n\r\n        \r\n        let x = Math.floor(a / this.n);\r\n        let y = a % this.n + 1;\r\n\r\n        if(b - a === 1){\r\n            let i;\r\n            for(i = 0; i < this.row.length; i++)\r\n                if(this.row[i][0] === x && this.row[i][1] === y)\r\n                    break;\r\n            this.row.splice(i,1);\r\n        }\r\n        else {\r\n            let i;\r\n            for(i = 0; i < this.col.length; i++)\r\n                if(this.col[i][0] === x && this.col[i][1] === y)\r\n                    break;\r\n            this.col.splice(i,1);\r\n        }\r\n\r\n        this.graph[a].push(b);\r\n        this.graph[b].push(a);\r\n        \r\n        var start = a;\r\n\r\n        var path = [];\r\n        for(let i = 0; i < this.graph[a].length; i++){\r\n            let x = DFS(this.graph,a,this.graph[a][i]);\r\n            if(x !== -1){\r\n                path.push(x);\r\n                break;\r\n            }\r\n        }\r\n\r\n        let choose = Math.floor((path.length * Math.random()));\r\n        if(choose + 1 === path.length){\r\n            a = path[choose];\r\n            b = path[0];\r\n        }\r\n        else {\r\n            a = path[choose];\r\n            b = path[choose + 1];\r\n        }\r\n\r\n        if(a > b){\r\n            let temp = a;\r\n            a = b;\r\n            b = temp;\r\n        }\r\n\r\n        this.graph[a].splice(this.graph[a].indexOf(b),1);\r\n        this.graph[b].splice(this.graph[b].indexOf(a),1);\r\n\r\n        let wallclone = new THREE.Mesh(new THREE.BoxGeometry(this.width, this.wallHeight, this.thickness), new THREE.MeshNormalMaterial());\r\n\r\n        if(b - a === 1){      //add row\r\n            let x = Math.floor(a / this.n);\r\n            let y = a % this.n + 1;\r\n            \r\n\r\n            this.row.push([x,y]);\r\n            \r\n            wallclone.position.x = y * this.width;\r\n            wallclone.position.z = x * this.width + (this.width / 2);\r\n            wallclone.position.y = this.wallHeight / 2;\r\n            wallclone.rotation.y = Math.PI / 2;\r\n\r\n            wallclone.mazeData = {\r\n                isRow: true,\r\n                frontPoint: a,\r\n                nextPoint: b\r\n            }\r\n        }\r\n        else {          //add col\r\n            let x = a % this.n;\r\n            let y = Math.floor(a / this.n) + 1;\r\n\r\n            this.col.push([x,y]);\r\n\r\n            wallclone.position.z = y * this.width;\r\n            wallclone.position.x = x * this.width + (this.width / 2);\r\n            wallclone.position.y = this.wallHeight / 2;\r\n\r\n            wallclone.mazeData = {\r\n                isRow: false,\r\n                frontPoint: a,\r\n                nextPoint: b\r\n            }\r\n        }\r\n        \r\n        scene.add(wallclone);\r\n        this.wall.push(wallclone);\r\n\r\n        function DFS(data,front,now){\r\n            if(now === start)return now;\r\n            else {\r\n                for(let i = 0; i < data[now].length; i++){\r\n                    if(data[now][i] !== front){\r\n                        var x = DFS(data,now,data[now][i]);\r\n\r\n                        if(x !== -1){\r\n                            path.push(x);\r\n                            return now;\r\n                        }\r\n                    }\r\n                }\r\n                return -1;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n}\r\n\r\nexport {Maze}"],"sourceRoot":""}