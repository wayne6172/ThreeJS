{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///delegated ./node_modules/three/build/three.module.js from dll-reference vendor_99ce509b92924a7ce61e","webpack:///external \"vendor_99ce509b92924a7ce61e\"","webpack:///delegated ./node_modules/three-orbitcontrols/OrbitControls.js from dll-reference vendor_99ce509b92924a7ce61e","webpack:///./test/initScene.js","webpack:///./test/main.js","webpack:///./test/Maze.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","vendor_99ce509b92924a7ce61e","scene","camera","renderer","clock","Maze","width","thickness","wallHeight","_classCallCheck","this","row","col","wall","initMaze","initData","THREE","mat","insideWall","topWall","bottomWall","clone","leftWall","rightWall","position","set","add","push","length","wallclone","x","z","y","rotation","Math","PI","sets","walls","j","choose","floor","random","a","b","Union_set","temp","pop","find","window","addEventListener","innerWidth","height","innerHeight","aspect","updateProjectionMatrix","setSize","lookAt","setClearColor","document","body","appendChild","domElement","animate","getDelta","requestAnimationFrame","render"],"mappings":"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","file":"main.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","module.exports = (__webpack_require__(1))(0);","module.exports = vendor_99ce509b92924a7ce61e;","module.exports = (__webpack_require__(1))(2);","import * as THREE from 'three'\r\n\r\nvar scene;\r\n\r\nfunction initScene(){\r\n    scene = new THREE.Scene();\r\n}\r\n\r\nexport {scene, initScene}","import * as THREE from 'three'\r\nimport OrbitControls from 'three-orbitcontrols'\r\nimport {scene, initScene} from './initScene.js'\r\nimport {Maze} from './Maze.js'\r\n\r\nvar camera, renderer, stats, clock, controls, maze;\r\nvar i;\r\nwindow.addEventListener('resize', onWindowResize, false);\r\n\r\n\r\ninit();\r\nanimate();\r\n\r\nfunction init() {\r\n\tinitScene();\r\n\t\r\n    clock = new THREE.Clock();\r\n\r\n    camera = new THREE.PerspectiveCamera(50, window.innerWidth / window.innerHeight, 1, 10000);\r\n    camera.position.set(250,750,250);\r\n    camera.lookAt(new THREE.Vector3(250,0,250));\r\n    scene.add(camera);\r\n\r\n    var gridXZ = new THREE.GridHelper(500, 10, 'red', 'white');\r\n    //scene.add(gridXZ);\r\n    gridXZ.position.set(250, 0, 250);\r\n    //gridXZ.rotation.x = Math.PI / 2;\r\n    scene.add(new THREE.AxisHelper(50));\r\n\r\n\r\n    renderer = new THREE.WebGLRenderer();\r\n    renderer.setSize(window.innerWidth, window.innerHeight);\r\n    renderer.setClearColor(0x888888);\r\n\r\n    //controls = new OrbitControls(camera, renderer.domElement);\r\n\r\n    document.body.appendChild(renderer.domElement);\r\n\t\r\n\tmaze = new Maze(10,10,50,5,50);\r\n}\r\n\r\nfunction onWindowResize() {\r\n    var width = window.innerWidth;\r\n    var height = window.innerHeight;\r\n    camera.aspect = width / height;\r\n    camera.updateProjectionMatrix();\r\n    renderer.setSize(width, height);\r\n}\r\n\r\nfunction animate() {\r\n    var dt = clock.getDelta();\r\n\r\n    requestAnimationFrame(animate);\r\n    render();\r\n}\r\n\r\nfunction render() {\r\n    renderer.render(scene, camera);\r\n}\r\n","import * as THREE from 'three'\r\nimport {scene} from './initScene.js'\r\n\r\nclass Maze{\r\n    // 製作一個M X N的迷宮，每個寬度為width，牆壁厚度為thickness，其高度為wallHeight\r\n    constructor(m,n,width,thickness,wallHeight){\r\n        this.row = [];\r\n        this.col = [];\r\n        this.wall = [];\r\n\r\n        this.initMaze(m,n,width,thickness,wallHeight);\r\n    }\r\n\r\n    initMaze(m,n,width,thickness,wallHeight){\r\n        this.initData(m,n);\r\n\r\n        var totalinWall = new THREE.Object3D();\r\n        var mat = new THREE.MeshNormalMaterial();\r\n        var insideWall = new THREE.Mesh(new THREE.BoxGeometry(width, wallHeight, thickness), mat);\r\n        \r\n        var topWall = new THREE.Mesh(new THREE.BoxGeometry(n * width,wallHeight,thickness),mat);\r\n        var bottomWall = topWall.clone();\r\n        var leftWall = new THREE.Mesh(new THREE.BoxGeometry(thickness,wallHeight,m * width),mat);\r\n        var rightWall = leftWall.clone();\r\n\r\n        topWall.position.set(n * width / 2,wallHeight / 2,0);\r\n        bottomWall.position.set(n * width / 2,wallHeight / 2,m * width);\r\n        leftWall.position.set(0,wallHeight / 2,m * width / 2);\r\n        rightWall.position.set(n * width, wallHeight / 2, m * width / 2);\r\n\r\n        scene.add(topWall,bottomWall,leftWall,rightWall);\r\n        this.wall.push(topWall,bottomWall,leftWall,rightWall);\r\n\r\n        var i;\r\n        ///////////row/////////////\r\n        for (i = 0; i < this.row.length; i++) {\r\n            let wallclone = insideWall.clone();\r\n            wallclone.position.x = (this.row[i][1]) * width;\r\n            wallclone.position.z = this.row[i][0] * width + (width / 2);\r\n            wallclone.position.y = wallHeight / 2;\r\n            wallclone.rotation.y = Math.PI / 2;\r\n            this.wall.push(wallclone);\r\n            scene.add(wallclone);\r\n        }\r\n        ////////////////col/////////////////////  \r\n        for (i = 0; i < this.col.length; i++) {\r\n            let wallclone = insideWall.clone();\r\n            wallclone.position.z = (this.col[i][1]) * width;\r\n            wallclone.position.x = this.col[i][0] * width + (width / 2);\r\n            wallclone.position.y = wallHeight / 2;\r\n            //wallclone.rotation.y = Math.PI/2;\r\n            this.wall.push(wallclone);\r\n            scene.add(wallclone);\r\n        }\r\n    }\r\n\r\n    // use kruskal's algorithm\r\n    initData(m,n){\r\n        var sets = [];\r\n        var walls = [];\r\n\r\n        for(let i = 0; i < m * n; i++)\r\n            sets.push(i);\r\n        \r\n        for(let i = 0; i < m; i++){\r\n            for(let j = 1; j < n; j++){\r\n                walls.push([0,i,j]);\r\n            }\r\n        }\r\n\r\n        for(let i = 0; i < n; i++){\r\n            for(let j = 1; j < m; j++){\r\n                walls.push([1,i,j]);\r\n            }\r\n        }\r\n\r\n        while(walls.length > 0){\r\n            let choose = Math.floor((walls.length * Math.random()));\r\n            let a,b;\r\n\r\n            //console.log('walls length: ' + walls.length);\r\n            //console.log('choose:' + choose);\r\n            if(walls[choose][0] === 0){\r\n                a = walls[choose][1] * n + walls[choose][2] - 1;\r\n                b = walls[choose][1] * n + walls[choose][2];\r\n            }\r\n            else {\r\n                a = (walls[choose][2] - 1) * n + walls[choose][1];\r\n                b = walls[choose][2] * n + walls[choose][1];\r\n            }\r\n\r\n            if(!Union_set(a,b)){\r\n                if(walls[choose][0] === 0)\r\n                    this.row.push([walls[choose][1],walls[choose][2]]);\r\n                else\r\n                    this.col.push([walls[choose][1],walls[choose][2]]);\r\n            }\r\n            \r\n            let temp = walls[choose];\r\n            walls[choose] = walls[walls.length - 1];\r\n            walls[walls.length - 1] = temp;\r\n\r\n            walls.pop();\r\n        }\r\n\r\n\r\n        function Union_set(x,y){\r\n            var a = find(x);\r\n            var b = find(y);\r\n\r\n            if(a !== b){\r\n                sets[b] = a;\r\n                return true;\r\n            }\r\n            else return false;\r\n        }\r\n\r\n        function find(n){\r\n            if(n == sets[n])\r\n                return n;\r\n            return sets[n] = find(sets[n]);\r\n        }\r\n    }\r\n}\r\n\r\nexport {Maze}"],"sourceRoot":""}